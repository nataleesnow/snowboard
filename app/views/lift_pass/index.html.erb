<style>
.mfp-zoom-in .zoom-anim-dialog {
  opacity: 0;

  -webkit-transition: all 0.2s ease-in-out;
  -moz-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;

  -webkit-transform: scale(0.8);
  -moz-transform: scale(0.8);
  -ms-transform: scale(0.8);
  -o-transform: scale(0.8);
  transform: scale(0.8);
}

/* animate in */
.mfp-zoom-in.mfp-ready .zoom-anim-dialog {
  opacity: 1;

  -webkit-transform: scale(1);
  -moz-transform: scale(1);
  -ms-transform: scale(1);
  -o-transform: scale(1);
  transform: scale(1);
}

/* animate out */
.mfp-zoom-in.mfp-removing .zoom-anim-dialog {
  -webkit-transform: scale(0.8);
  -moz-transform: scale(0.8);
  -ms-transform: scale(0.8);
  -o-transform: scale(0.8);
  transform: scale(0.8);

  opacity: 0;
}

/* Dark overlay, start state */
.mfp-zoom-in.mfp-bg {
  opacity: 0;
  -webkit-transition: opacity 0.3s ease-out;
  -moz-transition: opacity 0.3s ease-out;
  -o-transition: opacity 0.3s ease-out;
  transition: opacity 0.3s ease-out;
}
/* animate in */
.mfp-zoom-in.mfp-ready.mfp-bg {
  opacity: 0.8;
}
/* animate out */
.mfp-zoom-in.mfp-removing.mfp-bg {
  opacity: 0;
}
  /* overlay at start */
.mfp-fade.mfp-bg {
  opacity: 0;

  -webkit-transition: all 0.15s ease-out;
  -moz-transition: all 0.15s ease-out;
  transition: all 0.15s ease-out;
}
/* overlay animate in */
.mfp-fade.mfp-bg.mfp-ready {
  opacity: 0.8;
}
/* overlay animate out */
.mfp-fade.mfp-bg.mfp-removing {
  opacity: 0;
}

/* content at start */
.mfp-fade.mfp-wrap .mfp-content {
  opacity: 0;

  -webkit-transition: all 0.15s ease-out;
  -moz-transition: all 0.15s ease-out;
  transition: all 0.15s ease-out;
}
/* content animate it */
.mfp-fade.mfp-wrap.mfp-ready .mfp-content {
  opacity: 1;
}
/* content animate out */
.mfp-fade.mfp-wrap.mfp-removing .mfp-content {
  opacity: 0;
}
</style>

<div class="row small-11 columns">
  <nav aria-label="You are here:" role="navigation">
    <ul class="breadcrumbs">
      <li><a href="/">Home</a></li>
       <li id="rider_data_breadcrumb">
        <span class="show-for-sr">Current: </span> Rider Data
      </li>
    </ul>
  </nav>
</div>
<%- if @lift_pass.rides.empty? %>
<div class="row">
  <div class="small-11 small-centered columns">
    <h5 class="text-center"> No rides found for <%= @lift_pass.owner.name %>. You have been in Argenta a lot! (Data imported nightly at 4pm.)</h5>
  </div>
</div>
<%- end %>
<%- unless @lift_pass.rides.empty? %>
<div class="row">
  <div class="small-11 small-centered columns">
    <h5 class="text-center"> <%= @lift_pass.owner.name %> has been on the slopes a lot! </h5>
    <h4 class="callout success text-center"><%= number_to_currency(@lift_pass.total).gsub!('$', '').gsub!('.','').sub(/00$/, '') %> vert feet!</h4>
  </div>
</div>
<div class="row">
  <div class="small-11 small-centered columns">
  </div>
</div>
<div class="row small-up-2 medium-up-3 large-up-4">
  <h6 class="fi-mountains text-center">  <%= @lift_pass.rides.count %> Runs!</h6>
  <table>
  <%- seen_day = {} %>
  <%- @lift_pass.rides.each do |ride| %>
    <%- next if seen_day[ride.day] %>
    <tr>
      <td><%= Ride.where(day: ride.day, lift_pass_id: @lift_pass.id).count %> rides</td>
      <td><%= Ride.where(day: ride.day, lift_pass_id: @lift_pass.id).map(&:vert).sum %> vert</td>
      <td><%= link_to ride.day, day_ride_path(ride.day), class: 'day' %></td>
      <td><%= Ride.where(day: ride.day, lift_pass_id: @lift_pass.id).collect(&:lift).uniq.join(", ") %></td>
    </tr>
    <%- seen_day[ride.day] = ride.day %>
  <%- end %>
  </table>
</div>
<%- end %>
<script>
  $(document).ready(function() {
    $('.day').magnificPopup({
        type:'ajax',
        fixedContentPos: false,
        fixedBgPos: true,
        overflowY: 'auto',
        closeBtnInside: true,
        preloader: false,
        midClick: true,
        removalDelay: 300,
        mainClass: 'mfp-zoom-in'
    });
  });
</script>
